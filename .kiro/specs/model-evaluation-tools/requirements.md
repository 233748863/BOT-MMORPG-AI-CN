# 需求文档

## 简介

模型评估工具，提供混淆矩阵、准确率、召回率等评估指标，帮助分析模型在不同动作类别上的表现，指导模型优化方向。

## 术语表

- **模型评估器**: 负责计算和展示评估指标的模块
- **混淆矩阵**: 展示预测结果与真实标签对应关系的矩阵
- **评估报告**: 包含所有评估指标的汇总文档

## 需求列表

### 需求 1: 基础评估指标

**用户故事:** 作为开发者，我希望计算基础评估指标，以便了解模型性能。

#### 验收标准

1. 模型评估器应计算总体准确率（正确预测数 / 总预测数）
2. 模型评估器应计算每个类别的精确率（真阳性 / 预测阳性）
3. 模型评估器应计算每个类别的召回率（真阳性 / 实际阳性）
4. 模型评估器应计算每个类别的 F1 分数（精确率和召回率的调和平均）
5. 模型评估器应计算所有指标的宏平均和加权平均

### 需求 2: 混淆矩阵

**用户故事:** 作为开发者，我希望可视化混淆矩阵，以便识别哪些动作经常被混淆。

#### 验收标准

1. 模型评估器应从预测结果和真实标签生成混淆矩阵
2. 模型评估器应支持将混淆矩阵可视化为热力图
3. 可视化时，模型评估器应显示动作名称而非索引
4. 模型评估器应支持将混淆矩阵保存为图像文件
5. 模型评估器应高亮显示最容易混淆的动作对

### 需求 3: 评估报告生成

**用户故事:** 作为开发者，我希望生成综合评估报告，以便记录模型性能。

#### 验收标准

1. 模型评估器应生成文本格式的评估报告
2. 评估报告应包含所有指标、混淆矩阵和分析摘要
3. 模型评估器应支持将报告导出为 Markdown 或 HTML 格式
4. 评估报告应包含改进弱势动作类别的建议

### 需求 4: 批量评估

**用户故事:** 作为开发者，我希望在测试数据集上评估模型，以便评估泛化性能。

#### 验收标准

1. 模型评估器应从数据目录加载测试数据
2. 评估时，模型评估器应处理所有测试样本并汇总结果
3. 模型评估器应在评估过程中显示进度条
4. 模型评估器应报告评估时间和吞吐量（样本/秒）

### 需求 5: 动作类别分析

**用户故事:** 作为开发者，我希望按动作类别分析性能，以便识别哪些动作需要更多训练数据。

#### 验收标准

1. 模型评估器应按类型分组动作（移动、技能、特殊、鼠标、组合）
2. 模型评估器应计算每个动作组的指标
3. 模型评估器应识别表现不佳的动作类别
4. 模型评估器应建议可能需要更多训练样本的动作
