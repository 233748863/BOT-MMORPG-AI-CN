# 任务列表

## 概述

修复项目中 emoji 字符显示为方框的问题，以及 QMessageBox 按钮文字不显示的问题。

## 任务

- [x] 1. 在主题模块添加全局字体配置
  - [x] 1.1 修改 `界面/样式/主题.py`，添加 `应用全局字体` 函数
    - 使用 `setFamilies` 设置字体回退链
    - 包含 Microsoft YaHei UI、Segoe UI Emoji、Segoe UI Symbol
    - _需求: 1.1, 1.2, 1.3, 2.1, 2.2, 2.3_

- [x] 2. 在所有启动入口应用字体设置
  - [x] 2.1 修改 `启动GUI.py`，在 QApplication 创建后调用 `应用全局字体`
    - _需求: 1.4, 3.2_

  - [x] 2.2 修改 `界面/主程序.py`，在 QApplication 创建后调用 `应用全局字体`
    - _需求: 1.4, 3.2_

  - [x] 2.3 修改 `界面/配置界面.py` 的 `启动配置界面` 函数
    - _需求: 1.4, 3.2_

- [x] 3. 创建自定义对话框替代 QMessageBox
  - [x] 3.1 在 `界面/组件/通用组件.py` 添加 `确认对话框` 类
    - 替代 QMessageBox.question
    - 使用自定义样式确保按钮文字正常显示
  - [x] 3.2 在 `界面/组件/通用组件.py` 添加 `提示对话框` 类
    - 替代 QMessageBox.information/warning/critical
    - 支持信息、警告、错误三种类型

- [x] 4. 替换所有 QMessageBox 调用
  - [x] 4.1 替换 `界面/页面/配置页.py` 中的所有 QMessageBox 调用
    - 约 25+ 处替换
  - [x] 4.2 替换 `界面/页面/数据管理页.py` 中的所有 QMessageBox 调用
    - 约 5+ 处替换
  - [x] 4.3 替换 `界面/配置界面.py` 中的所有 QMessageBox 调用
    - 约 15+ 处替换
  - [x] 4.4 替换 `界面/组件/窗口选择器.py` 中的所有 QMessageBox 调用
    - 约 3 处替换
  - [x] 4.5 替换 `界面/主程序.py` 中的 QMessageBox 调用
    - 1 处替换

- [x] 5. 检查点 - 验证修复效果
  - 启动 GUI 验证所有 emoji 正常显示
  - 验证所有对话框按钮文字正常显示
  - 验证标题栏文字颜色正确（白色）

## 完成总结

已完成所有任务：
1. 全局字体设置已应用，支持 emoji 显示
2. 创建了 `确认对话框` 和 `提示对话框` 两个自定义对话框类
3. 替换了项目中所有 QMessageBox 调用（约 50+ 处）
4. 所有对话框现在使用自定义样式，确保中文和 emoji 正常显示

## 备注

- Windows 系统内置 Segoe UI Emoji 字体，无需额外安装
- 字体回退链确保中文和 emoji 都能正常显示
- 自定义对话框使用 Microsoft YaHei UI 字体，确保按钮文字正常显示
