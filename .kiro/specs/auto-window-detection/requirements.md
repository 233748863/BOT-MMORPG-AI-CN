# 需求文档

## 简介

自动游戏窗口检测功能，自动检测游戏窗口的位置和大小，无需手动配置窗口区域坐标，提升用户体验。

## 术语表

- **窗口检测器**: 负责查找和定位游戏窗口的模块
- **窗口信息**: 包含窗口句柄、位置、大小等信息
- **进程匹配器**: 根据进程名或窗口标题查找窗口的模块

## 需求列表

### 需求 1: 窗口查找

**用户故事:** 作为用户，我希望系统能自动找到我的游戏窗口，以便无需手动配置坐标。

#### 验收标准

1. 窗口检测器应能通过进程名查找窗口（如 "game.exe"）
2. 窗口检测器应能通过窗口标题查找窗口（支持部分匹配）
3. 窗口检测器应返回窗口位置（x, y）和大小（宽度, 高度）
4. 如果找到多个匹配窗口，窗口检测器应让用户选择
5. 如果未找到匹配窗口，窗口检测器应返回错误信息

### 需求 2: 窗口列表

**用户故事:** 作为用户，我希望能看到所有窗口的列表，以便选择正确的游戏窗口。

#### 验收标准

1. 窗口检测器应列出所有可见窗口及其标题
2. 窗口检测器应显示窗口缩略图以便识别
3. 窗口检测器应允许按关键词过滤窗口
4. 窗口检测器应支持通过点击列表选择窗口

### 需求 3: 窗口跟踪

**用户故事:** 作为开发者，我希望系统能跟踪窗口位置变化，以便窗口移动后截取继续工作。

#### 验收标准

1. 窗口检测器应检测游戏窗口何时被移动
2. 当窗口移动时，窗口检测器应自动更新截取区域
3. 窗口检测器应检测游戏窗口何时被调整大小
4. 当窗口调整大小时，窗口检测器应更新截取区域并通知用户

### 需求 4: 配置保存

**用户故事:** 作为用户，我希望保存我的窗口选择，以便每次不需要重新选择。

#### 验收标准

1. 窗口检测器应保存选中的窗口标识符（进程名或标题）
2. 当程序启动时，窗口检测器应尝试查找之前选择的窗口
3. 如果未找到保存的窗口，窗口检测器应提示用户重新选择
4. 窗口检测器应支持为不同游戏保存多个配置

### 需求 5: 前台窗口检测

**用户故事:** 作为用户，我希望通过点击游戏窗口来选择它，以便选择更直观。

#### 验收标准

1. 窗口检测器应提供"点击选择"模式
2. 在选择模式下，窗口检测器应捕获用户下一次点击的窗口
3. 窗口检测器应在进入选择模式前显示倒计时
4. 窗口检测器应在保存前与用户确认选择
