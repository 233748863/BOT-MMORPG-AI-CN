# -*- coding: utf-8 -*-
"""
布局常量定义

定义应用程序的统一布局常量，包括窗口尺寸、导航栏、内容区域、
卡片组件、按钮、表单等所有尺寸、间距、字号常量。
确保整个应用的视觉一致性。
"""


class 布局常量:
    """统一的布局常量"""
    
    # ==================== 窗口尺寸 ====================
    窗口宽度 = 800
    窗口高度 = 600
    
    # ==================== 导航栏 ====================
    导航栏宽度 = 100
    导航项高度 = 40
    导航项间距 = 4
    导航项内边距 = 8
    导航项圆角 = 6
    导航项左侧指示条宽度 = 3
    导航图标尺寸 = 24
    
    # ==================== 状态栏 ====================
    状态栏高度 = 24
    
    # ==================== 内容区域 ====================
    内容区外边距 = 16
    内容区宽度 = 668   # 800 - 100(导航栏) - 16*2(外边距)
    内容区高度 = 544   # 600 - 24(状态栏) - 16*2(外边距)
    
    # ==================== 卡片组件 ====================
    卡片圆角 = 8
    卡片内边距 = 12
    卡片间距 = 12
    卡片边框宽度 = 1
    卡片最小高度 = 80
    
    # ==================== 标题 ====================
    页面标题字号 = 18
    页面标题字号最小 = 16
    页面标题字号最大 = 20
    卡片标题字号 = 13
    卡片标题字号最小 = 12
    卡片标题字号最大 = 14
    标题下边距 = 8
    
    # ==================== 按钮 ====================
    按钮高度 = 32
    按钮最小宽度 = 60
    按钮最大宽度 = 100
    按钮圆角 = 6
    按钮水平内边距 = 12
    按钮垂直内边距 = 6
    按钮间距 = 8
    
    # 快捷卡片按钮（首页）
    快捷按钮宽度最小 = 120
    快捷按钮宽度最大 = 140
    快捷按钮高度最小 = 80
    快捷按钮高度最大 = 90
    
    # 工具按钮
    工具按钮宽度最小 = 32
    工具按钮宽度最大 = 40
    
    # ==================== 表单 ====================
    表单标签宽度 = 80
    表单控件高度 = 28
    表单控件最小宽度 = 80
    表单控件最大宽度 = 200
    表单行间距 = 8
    
    # ==================== 文字 ====================
    正文字号 = 12
    正文字号最小 = 11
    正文字号最大 = 13
    次要文字字号 = 11
    次要文字字号最小 = 10
    次要文字字号最大 = 12
    最小文字字号 = 10
    按钮文字字号 = 12
    按钮文字字号最小 = 12
    按钮文字字号最大 = 13
    状态标签字号 = 11
    
    # ==================== 预览区域 ====================
    预览区域宽度最小 = 200
    预览区域宽度最大 = 280
    预览区域高度最小 = 112   # 200 * 9/16
    预览区域高度最大 = 158   # 280 * 9/16
    预览区域宽高比 = 16 / 9
    
    # ==================== 进度条 ====================
    进度条高度最小 = 16
    进度条高度最大 = 24  # 增加高度确保百分比文字清晰可见
    进度条圆角 = 4
    
    # ==================== 下拉框和输入框 ====================
    下拉框最小宽度 = 100
    下拉框最大宽度 = 200
    下拉框高度 = 28
    输入框最小宽度 = 80
    输入框最大宽度 = 200
    输入框高度 = 28
    
    # ==================== 布局比例 ====================
    # 数据收集页
    数据收集页左栏比例 = 60
    数据收集页右栏比例 = 40
    
    # 运行页
    运行页左栏比例 = 50
    运行页右栏比例 = 50
    
    # 数据管理页
    数据管理页左栏比例 = 65
    数据管理页右栏比例 = 35
    
    # 训练页
    训练页上区比例 = 60
    训练页下区比例 = 40
    
    # ==================== 动画 ====================
    动画时长快速 = 150
    动画时长标准 = 200
    动画时长慢速 = 300
    动画时长最小 = 100
    动画时长最大 = 300
    
    # ==================== 性能 ====================
    状态更新最小间隔 = 50  # 毫秒
    页面切换最大时间 = 100  # 毫秒
    
    # ==================== 边距保护 ====================
    最小边距 = 8
    文字边框间距 = 4


class 页面布局配置:
    """页面布局配置"""
    
    # 数据收集页
    数据收集页 = {
        "页面名称": "数据收集",
        "标题": "🎥 数据收集",
        "图标": "🎥",
        "布局类型": "左右两栏",
        "左栏比例": 60,
        "右栏比例": 40,
    }
    
    # 训练页
    训练页 = {
        "页面名称": "训练",
        "标题": "🧠 模型训练",
        "图标": "🧠",
        "布局类型": "上下两区",
        "上区比例": 60,
        "下区比例": 40,
    }
    
    # 运行页
    运行页 = {
        "页面名称": "运行",
        "标题": "🤖 机器人运行",
        "图标": "🤖",
        "布局类型": "左右两栏",
        "左栏比例": 50,
        "右栏比例": 50,
    }
    
    # 配置页
    配置页 = {
        "页面名称": "配置",
        "标题": "⚙️ 配置管理",
        "图标": "⚙️",
        "布局类型": "标签页",
    }
    
    # 首页
    首页 = {
        "页面名称": "首页",
        "标题": "🎮 MMORPG游戏AI助手",
        "图标": "🎮",
        "布局类型": "仪表盘",
    }
    
    # 数据管理页
    数据管理页 = {
        "页面名称": "数据管理",
        "标题": "📁 数据管理",
        "图标": "📁",
        "布局类型": "左右两栏",
        "左栏比例": 65,
        "右栏比例": 35,
    }


def 计算预览区域尺寸(可用宽度: int) -> tuple:
    """
    根据可用宽度计算保持16:9比例的预览区域尺寸
    
    参数:
        可用宽度: 可用的最大宽度
    
    返回:
        (宽度, 高度) 元组
    """
    # 限制在最小和最大范围内
    宽度 = max(布局常量.预览区域宽度最小, 
              min(可用宽度, 布局常量.预览区域宽度最大))
    高度 = int(宽度 / 布局常量.预览区域宽高比)
    return (宽度, 高度)


def 验证字号范围(字号: int, 类型: str = "正文") -> bool:
    """
    验证字号是否在合理范围内
    
    参数:
        字号: 要验证的字号
        类型: 字号类型 ("页面标题", "卡片标题", "正文", "次要文字", "按钮")
    
    返回:
        是否在合理范围内
    """
    范围映射 = {
        "页面标题": (布局常量.页面标题字号最小, 布局常量.页面标题字号最大),
        "卡片标题": (布局常量.卡片标题字号最小, 布局常量.卡片标题字号最大),
        "正文": (布局常量.正文字号最小, 布局常量.正文字号最大),
        "次要文字": (布局常量.次要文字字号最小, 布局常量.次要文字字号最大),
        "按钮": (布局常量.按钮文字字号最小, 布局常量.按钮文字字号最大),
    }
    
    if 类型 not in 范围映射:
        return False
    
    最小值, 最大值 = 范围映射[类型]
    return 最小值 <= 字号 <= 最大值


def 验证按钮尺寸(宽度: int, 高度: int, 类型: str = "主要") -> bool:
    """
    验证按钮尺寸是否在合理范围内
    
    参数:
        宽度: 按钮宽度
        高度: 按钮高度
        类型: 按钮类型 ("主要", "工具", "快捷")
    
    返回:
        是否在合理范围内
    """
    if 类型 == "主要":
        宽度合理 = 布局常量.按钮最小宽度 <= 宽度 <= 布局常量.按钮最大宽度
        高度合理 = 高度 == 布局常量.按钮高度
    elif 类型 == "工具":
        宽度合理 = 布局常量.工具按钮宽度最小 <= 宽度 <= 布局常量.工具按钮宽度最大
        高度合理 = 高度 == 布局常量.按钮高度
    elif 类型 == "快捷":
        宽度合理 = 布局常量.快捷按钮宽度最小 <= 宽度 <= 布局常量.快捷按钮宽度最大
        高度合理 = 布局常量.快捷按钮高度最小 <= 高度 <= 布局常量.快捷按钮高度最大
    else:
        return False
    
    return 宽度合理 and 高度合理


def 验证动画时长(时长: int) -> bool:
    """
    验证动画时长是否在合理范围内
    
    参数:
        时长: 动画时长（毫秒）
    
    返回:
        是否在合理范围内
    """
    return 布局常量.动画时长最小 <= 时长 <= 布局常量.动画时长最大
